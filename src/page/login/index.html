<div class="m-login">
    <el-steps :active="active" align-center finish-status="success" :space="300">
        <el-step title="登录易数账号"></el-step>
        <el-step title="登录淘宝账号"></el-step>
    </el-steps>
    <div v-if="active === 0" class="wrapBox">
        <div class="box">
            <label><b>*</b>手机号：</label>
            <el-input v-model="vipName" size="medium" placeholder="请输入您注册的易数电商会员名"></el-input>
        </div>
        <div class="box">
            <label><b>*</b>密码：</label>
            <el-input type="password" v-model="vipPwd" size="medium" placeholder="请输入密码，8~12位"></el-input>
        </div>
        <div class="tip">
            <span @click="forget">忘记密码</span>
            <span @click="goRegister">我要注册</span>
        </div>
        <div class="text-center">
            <el-button size="medium" @click="reset">重 置</el-button>
            <el-button size="medium" type="primary" @click="ysLogin">登 录</el-button>
        </div>
    </div>
    <div v-else class="wrapBox" style="padding-left: 0">
        <div v-if="isLoginTaobao">
            <p class="u-tip">您已登录淘宝</p>
            <div class="text-center">
                <el-button size="medium" @click="backToLogin">上一步</el-button>
                <el-button size="medium" type="primary" @click="finished">完 成</el-button>
            </div>
        </div>
        <div v-else>
            <p class="u-tip">您尚未登录淘宝，请前往登录</p>
            <div class="text-center">
                <el-button size="medium" @click="backToLogin">上一步</el-button>
                <el-button v-if="!taobaoLoading" type="primary" size="medium" @click="loginToTaobao">去登录</el-button>
                <el-button v-else type="primary" size="medium" :loading="taobaoLoading">登录中</el-button>
            </div>
        </div>
        <!-- 内嵌淘宝登录框 -->
        <!-- <div v-else class="tbwrapbox">
            <iframe frameborder="0" scrolling="no"
                width="100%" height="250"
                src="http://zhitongche.taobao.com/entry/login.html">
            </iframe>
        </div> -->
    </div>
    <el-dialog
        title="忘记密码"
        :visible.sync="dialogVisible"
        width="400">
        <div class="box">
            <label><b>*</b>手机号：</label>
            <el-input v-model="phoneNum" size="medium" placeholder="请输入手机号"></el-input>
        </div>
        <div class="box">
            <label><b>*</b>验证码：</label>
            <el-input v-model="code" size="medium" placeholder="请输入手机验证码"></el-input>
        </div>
        <div class="box">
            <label><b></b></label>
            <el-button v-if="!timeFlag" class="yzm-btn" size="mini" type="primary" @click="getCode">{{codeName}}</el-button>
            <el-button v-else size="mini" class="yzm-btn" type="primary">{{time}} 秒</el-button>
        </div>
        <div class="box">
            <label><b>*</b>新密码：</label>
            <el-input type="password" v-model="pwd" size="medium" placeholder="请输入密码，8~12位"></el-input>
        </div>
        <div class="box">
            <label><b>*</b>密码确认：</label>
            <el-input type="password" v-model="rePwd" size="medium" placeholder="请再次输入密码"></el-input>
        </div>
        <span slot="footer" class="dialog-footer">
            <el-button @click="dialogVisible = false">取 消</el-button>
            <el-button type="primary" @click.native="forgetPwd">确 定</el-button>
        </span>
    </el-dialog>
</div>
